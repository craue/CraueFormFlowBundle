{% set renderBackButton = flow.getFirstStepNumber() < flow.getLastStepNumber() and flow.getCurrentStepNumber() in (flow.getFirstStepNumber() + 1) .. flow.getLastStepNumber() %}
<div class="craue_formflow_buttons craue_formflow_button_count_{% if renderBackButton %}3{% else %}2{% endif %}">
	{#
		Default button (the one trigged by pressing the enter/return key) must be defined first.
		Thus, all buttons are defined in reverse order and will be reversed again via CSS.
		See http://stackoverflow.com/questions/1963245/multiple-submit-buttons-specifying-default-button
	#}
	{%-
		set craue_label = {
			button_finish: craue_formflow_button_label_finish | default('button.finish'),
			button_next: craue_formflow_button_label_next | default('button.next'),
			button_back: craue_formflow_button_label_back | default('button.back'),
			button_reset: craue_formflow_button_label_reset | default('button.reset')
		}
	-%}
	{%- set isLastStep = flow.getCurrentStepNumber() == flow.getLastStepNumber() -%}
	{%- set craue_formflow_button_class_last = craue_formflow_button_class_last | default('craue_formflow_button_last') -%}
	{%- set craue_formflow_button_class_last = isLastStep
			? craue_formflow_button_class_finish | default(craue_formflow_button_class_last)
			: craue_formflow_button_class_next | default(craue_formflow_button_class_last)
		-%}
	<button type="submit" class="{{ craue_formflow_button_class_last }}">
		{{- (isLastStep ? craue_label.button_finish : craue_label.button_next) | trans({}, 'CraueFormFlowBundle') -}}
	</button>

	{% if renderBackButton %}
		<button type="submit" class="{{ craue_formflow_button_class_back | default('') }}" name="{{ flow.getFormTransitionKey() }}" value="back" formnovalidate="formnovalidate">
			{{- craue_label.button_back | trans({}, 'CraueFormFlowBundle') -}}
		</button>
	{% endif %}

	<button type="submit" class="{{ craue_formflow_button_class_reset | default('craue_formflow_button_first') }}" name="{{ flow.getFormTransitionKey() }}" value="reset" formnovalidate="formnovalidate">
		{{- craue_label.button_reset | trans({}, 'CraueFormFlowBundle') -}}
	</button>
</div>
